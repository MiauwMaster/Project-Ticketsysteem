@{
    Page.Title = "Aankomende Concerten";
    Layout = "_SiteLayout.cshtml";

    // Open database connection
    var db = Database.Open("Database");
    System.Globalization.CultureInfo ci = new System.Globalization.CultureInfo("nl-NL");

    // SQL statement
    var statement = "SELECT * FROM Concerten WHERE datum > @0";
    var selectedData = db.Query(statement, DateTime.Now);

    // Create a table (WebGrid) with coming concerts
    var grid = new WebGrid(source: selectedData, defaultSort: "Datum");
    grid.SortDirection = SortDirection.Ascending;
}
<h2>Aankomende concerten</h2>

<div class="agenda">
    <div class="table-responsive">
        <table class="table table-condensed table-bordered">
            <thead>
                <tr>
                    <th>Datum</th>
                    <th>Tijd</th>
                    <th>Naam</th>
                    <th>Artiest</th>
                    <th>Beschrijving</th>
                    <th>Prijs</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @foreach(var item in selectedData){
                    DateTime datum = item.Datum;

                    <tr>
                        <td class="agenda-date" class="active" rowspan="1">
                            <div class="dayofmonth">@datum.Day</div>
                            <div class="dayofweek">@datum.ToString("dddd", ci)</div>
                            <div class="shortdate text-muted">@datum.ToString("MMMM", ci), @datum.Year</div>
                        </td>
                        <td class="agenda-time">
                            @datum.ToString("H:mm")
                        </td>
                        <td class="agenda-events">
                            <div class="agenda-event">
                                @item.Naam
                            </div>
                        </td>
                        <td class="agenda-beschrijving">
                            @item.Artiest
                        </td>
                        <td class="agenda-beschrijving">
                            @item.Beschrijving
                        </td>
                        <td class="agenda-prijs">
                            €@item.Prijs
                        </td>
                        <td class="agenda-bestel">
                            <a href="/TicketBestellen.cshtml?id=@item.ID">Bestel</a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>

<p>
    <a href="/ConcertToevoegen.cshtml">Nieuw concert toevoegen</a>
</p>

